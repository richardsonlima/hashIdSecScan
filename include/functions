#!/bin/sh

# Include
. include/constants

##############################################
# Name            :
# Description     :
# Returns         :
##############################################
CheckUmask(){
  umask $UMASK_OPTION
  if [ $? -eq 0 ]; then
       echo -e "${OK} [*] Setting umask to ${UMASK_OPTION} ${NORMAL}"
     else
       echo -e "${WARNNING} [x] Could not set umask ${NORMAL}"
  fi
}

##############################################
# Name            :
# Description     :
# Returns         :
##############################################
MyUser(){
  IM=`whoami`
  if [ "${IM}" = "" ]; then
      echo -e "${WARNNING} [x] Could  not determine user ${NORMAL}"
  fi
  if [ "${IM}" = "root" ]; then
      echo -e "${WARNNING} [x] This programm should not be executed as root ${NORMAL}"
  fi
}

##############################################
# Name            :
# Description     :
# Returns         :
##############################################
BuildDir(){
  BUILDDIR="/opt/hashId-SecScan"
  if [ ! -d ${BUILDDIR} ]; then
      echo -e "${WARNNING} [x] ${BUILDDIR} not found ${NORMAL}"
      echo -e "${WARNNING} Hint:  Missing directory, creating ${BUILDDIR} ${NORMAL}";sudo mkdir -p ${BUILDDIR}
    else
      echo -e "${NOTICE} [+] BuildDir: ${BUILDDIR} ${NORMAL}"
  fi
}

##############################################
# Name            :
# Description     :
# Returns         :
##############################################
NeedsDir(){
  NEEDSDIR="build db main main/tmp include"
  for dir in ${NEEDSDIR}; do
      if [ ! -d "${BUILDDIR}/${DIR}" ]; then
           echo -e "${WARNNING} [x] Missing directory, creating ${BUILDDIR}/${DIR}  ${NORMAL}";sudo mkdir -p ${BUILDDIR}/${DIR}
      fi
  done
}

##############################################
# Name            :
# Description     :
# Returns         :
##############################################
Env(){
      #if [ ! -d "${BUILDDIR}" ]; then
           echo -e "${WARNNING} [x] Empty directory, creating files ... ${BUILDDIR}/${DIR}  ${NORMAL}";sudo cp * ${BUILDDIR}
           echo -e "${NOTICE} [x] Creating environment ... ${NORMAL}";sudo echo "alias hashidsecscan='/opt/hashId-SecScan/hashidsecscan.sh' " >> ~/.bash_alias

      #fi
}
